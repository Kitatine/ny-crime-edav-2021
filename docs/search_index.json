[["index.html", "NY Crime Investigation Chapter 1 Introduction", " NY Crime Investigation Jingwen Bai, Qiran Li, Zheng Wu 2021-12-12 Chapter 1 Introduction "],["data-sources.html", "Chapter 2 Data sources 2.1 NYPD Complaints Dataset 2.2 NYPD Arrest Dataset 2.3 Other Data Sets 2.4 Featured Variables", " Chapter 2 Data sources We acquired our data through the NYC Open Data Website. It contains free public data published by New York City agencies and other partners. Specifically, we attained data from the Police Department data (NYPD) data set. The online database provides api and .csv version of data. The primary data sources of this project are NYPD Complaint Data Historical and NYPD Arrests Data (Historic). We also consider the missing value situation of several other data sets. Including Motor vehicle Collisions and Crashes, Arrest Data (YTD), Complaint Data (YTD), Criminal Court Summons (historical), Criminal Court Summons (YTD), Hate Crimes, Shooting Incident Data (historical), and Shooting Incident Data (YTD). One can easily find these data sets on the original data provider website NYC Open Data Website, or check our Google Drive collection. 2.1 NYPD Complaints Dataset NYPD Complaint Data Historical data set includes all valid felony, misdemeanor, and violation crimes reported to the New York City Police Department (NYPD) from 2006 to the end of last year (2019). For additional details, please see the attached data dictionary in the ‘About’ section. (Source) Table 2.1: Major columns used in NYPD Complaints Variables Description RPT_DT Date in %m/%d/%y, Date event was reported to police OFNS_DESC Text, Description of internal classification corresponding with KY code (more general category than PD description) 2.2 NYPD Arrest Dataset NYPD Arrests Data (Historic) includes a list of every arrest in NYC going back to 2006 through the end of the previous calendar year. This is a breakdown of every arrest effected in NYC by the NYPD going back to 2006 through the end of the previous calendar year. This data is manually extracted every quarter and reviewed by the Office of Management Analysis and Planning before being posted on the NYPD website. Each record represents an arrest effected in NYC by the NYPD and includes information about the type of crime, the location and time of enforcement. In addition, information related to suspect demographics is also included. (Source) Table 2.2: Major columns used in NYPD Arrest Variables Description LAW_CAT_CD Factor, Level of offense: felony, misdemeanor, violation ARREST_DATE Date in %m/%d/%y, Exact date of arrest for the reported event ARREST_BORO Factor, Borough of arrest. B(Bronx), S(Staten Island), K(Brooklyn), M(Manhattan), Q(Queens) Latitude Text, Latitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326) Longitude Text, Longitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326) 2.3 Other Data Sets For more details on data sets mentioned above other than Complaints and Arrest, please check Chapter 04-Cleaning. 2.4 Featured Variables There are some specific columns that we were concentrate on: LAW_CAT_CD: Level of offense: felony, misdemeanor, violation ARREST_DATE: Exact date of arrest for the reported event ARREST_BORO: Borough of arrest. B(Bronx), S(Staten Island), K(Brooklyn), M(Manhattan), Q(Queens) Latitude: Latitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326) Longitude: Longitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326) Definitions of other variables can be found at our Google Drive data collection. "],["data-transformation.html", "Chapter 3 Data transformation 3.1 Construction of Processing Modules 3.2 Preprocessing: Loading and Descriptive Analysis 3.3 Pre-processing for Arrest Data 3.4 Pre-processing for Complaint Data 3.5 Pre-processing for other Data Sets 3.6 Next Stage", " Chapter 3 Data transformation The NYPD Open Data Sets are generally well constructed and with consistent data structure and type, and the sets usually do not have serious missing value issues. Therefore, our focus here would mainly be insights formulation, where we shall decide the specific metric for further exploration. Specifically, we include the basic data transformation as the pre-processing module to clean the data and obtain some fundamental insights. Notice that, since all our data listed here have millions of rows, so we turn to the ff library to enable fast loading the data set feature. Besides, we also developed several reusable modules for cleaner and more efficient processing. For more information on ‘ff’ package, please check here. Our interest lies on the geometry distribution and the time series analysis of our Arrest Data and Complaint Data. Finally, after successfully cleaned/pre-processed the Arrest Data and the Complaint Data, we introduced a map API as well to include the geometry information for our further visualized and interactive analysis in later chapters. 3.1 Construction of Processing Modules We developed several reusable modules that we would repetitively use in our analysis below. Specifically, we set our environment as well as a time stamp formatting function to unify our criteria for date data. One can implement these modules via the syntax of time-and-date manipulation in R and “knitr” as well as “magrittr” packages. We also developed a mimic function for str() to provide insights of the data sets in a table way. To formulate proper data structure and columns, we developed a function allowing we derive year and/or month information from the original time stamp column of Arrest Data. Further more, this function also allow us to decide whether an grouping by year and/or month is needed. One can find further details in our repository. For a detailed implementation, please refer to our repository. 3.2 Preprocessing: Loading and Descriptive Analysis We created tables for the data set structures to get a first impression on how exactly the data is showed. ## &#39;data.frame&#39;: 5153369 obs. of 19 variables: ## $ ARREST_KEY : int 32311380 192799737 193260691 149117452 190049060 24288194 189182271 196324211 196785901 197554056 ... ## $ ARREST_DATE : Factor w/ 5479 levels &quot;01/01/2019&quot;,&quot;01/02/2018&quot;,..: 247 44 62 9 495 399 462 164 181 210 ... ## $ PD_CD : int 511 177 NA 153 157 203 153 157 175 175 ... ## $ PD_DESC : Factor w/ 423 levels &quot;&quot;,&quot;ACCOSTING,FRAUDULENT&quot;,..: 33 153 1 139 137 176 139 137 155 155 ... ## $ KY_CD : int 235 116 NA 104 104 352 104 104 233 233 ... ## $ OFNS_DESC : Factor w/ 88 levels &quot;&quot;,&quot;ADMINISTRATIVE CODE&quot;,..: 11 56 1 54 54 10 54 54 56 56 ... ## $ LAW_CODE : Factor w/ 2441 levels &quot;&quot;,&quot;ABC00000MA&quot;,..: 308 137 334 114 117 151 114 117 129 129 ... ## $ LAW_CAT_CD : Factor w/ 5 levels &quot;&quot;,&quot;F&quot;,&quot;I&quot;,&quot;M&quot;,..: 4 2 2 2 2 4 2 2 4 4 ... ## $ ARREST_BORO : Factor w/ 6 levels &quot;B&quot;,&quot;K&quot;,&quot;M&quot;,&quot;Q&quot;,..: 4 3 3 2 2 2 3 2 1 3 ... ## $ ARREST_PRECINCT : int 27 25 14 67 77 77 5 77 50 26 ... ## $ JURISDICTION_CODE: int 1 0 0 0 0 2 0 0 0 0 ... ## $ AGE_GROUP : Factor w/ 92 levels &quot;&lt;18&quot;,&quot;18-24&quot;,..: 2 4 3 3 3 4 4 4 3 4 ... ## $ PERP_SEX : Factor w/ 2 levels &quot;F&quot;,&quot;M&quot;: 2 2 2 2 2 2 2 2 2 1 ... ## $ PERP_RACE : Factor w/ 8 levels &quot;AMERICAN INDIAN/ALASKAN NATIVE&quot;,..: 3 3 5 3 3 3 7 4 3 3 ... ## $ X_COORD_CD : num NA 1000555 986685 998032 1003606 ... ## $ Y_COORD_CD : num NA 230994 215375 175598 185050 ... ## $ Latitude : num NA 40.8 40.8 40.6 40.7 ... ## $ Longitude : num NA -73.9 -74 -74 -73.9 ... ## $ Lon_Lat : Factor w/ 119134 levels &quot;&quot;,&quot;POINT (-73.70659676099996 40.75353245800005)&quot;,..: 1 3325 4680 3693 2941 2826 4834 2941 1926 3905 ... (#tab:load the data, arrest)Head 6 Rows in Arrest Dataset for Temporal Analysis ARREST_KEY ARREST_DATE PD_CD PD_DESC KY_CD OFNS_DESC LAW_CODE LAW_CAT_CD ARREST_BORO ARREST_PRECINCT JURISDICTION_CODE AGE_GROUP PERP_SEX PERP_RACE X_COORD_CD Y_COORD_CD Latitude Longitude Lon_Lat 32311380 06/18/2007 511 CONTROLLED SUBSTANCE, POSSESSION 7 235 DANGEROUS DRUGS PL 2200300 M Q 27 1 18-24 M BLACK NA NA NA NA 192799737 01/26/2019 177 SEXUAL ABUSE 116 SEX CRIMES PL 1306503 F M 25 0 45-64 M BLACK 1000555 230994 40.80069 -73.94111 POINT (-73.94110928599997 40.800694331000045) 193260691 02/06/2019 NA NA PL 2203400 F M 14 0 25-44 M UNKNOWN 986685 215375 40.75784 -73.99121 POINT (-73.99121211099998 40.75783900300007) 149117452 01/06/2016 153 RAPE 3 104 RAPE PL 1302503 F K 67 0 25-44 M BLACK 998032 175598 40.64865 -73.95034 POINT (-73.95033556299995 40.648650085000035) 190049060 11/15/2018 157 RAPE 1 104 RAPE PL 1303501 F K 77 0 25-44 M BLACK 1003606 185050 40.67458 -73.93022 POINT (-73.93022154099998 40.67458330800008) 24288194 09/13/2006 203 TRESPASS 3, CRIMINAL 352 CRIMINAL TRESPASS PL 140100E M K 77 2 45-64 M BLACK 1004580 183838 40.67125 -73.92671 POINT (-73.926713851 40.67125445700003) ## CMPLNT_NUM CMPLNT_FR_DT CMPLNT_FR_TM CMPLNT_TO_DT CMPLNT_TO_TM ADDR_PCT_CD RPT_DT KY_CD ## 1 394506329 12/31/2019 17:30:00 32 12/31/2019 118 ## 2 968873685 12/29/2019 16:31:00 12/29/2019 16:54:00 47 12/29/2019 113 ## 3 509837549 12/15/2019 18:45:00 109 12/29/2019 578 ## 4 352454313 12/28/2019 01:00:00 47 12/28/2019 126 ## 5 248803469 09/05/2008 21:41:00 NA 09/05/2008 101 ## 6 293718737 12/27/2019 22:00:00 9 12/27/2019 107 ## 7 552685226 12/27/2019 20:10:00 12/27/2019 20:15:00 79 12/27/2019 117 ## 8 134037758 12/26/2019 20:00:00 12/27/2019 07:15:00 101 12/27/2019 341 ## 9 855385879 12/26/2019 19:57:00 44 12/26/2019 361 ## 10 241602326 12/25/2019 23:00:00 12/26/2019 14:25:00 20 12/26/2019 341 ## 11 585574881 12/24/2019 16:00:00 14 12/24/2019 109 ## 12 916172359 12/21/2019 20:00:00 12/21/2019 20:30:00 25 12/24/2019 341 ## 13 946914583 12/22/2019 04:15:00 12/22/2019 04:24:00 108 12/22/2019 113 ## 14 355952564 12/21/2019 02:35:00 46 12/21/2019 101 ## 15 249276017 12/20/2019 14:00:00 42 12/21/2019 106 ## 16 636997863 12/20/2019 22:18:00 52 12/20/2019 344 ## 17 183266811 12/20/2019 01:35:00 12/20/2019 01:44:00 66 12/20/2019 107 ## 18 699043216 12/20/2019 00:07:00 12/20/2019 00:12:00 50 12/20/2019 341 ## 19 431547413 12/10/2019 20:06:00 12/10/2019 20:24:00 7 12/20/2019 114 ## 20 800366831 12/19/2019 17:50:00 43 12/19/2019 341 ## 21 354566222 12/19/2019 02:50:00 42 12/19/2019 104 ## 22 464928227 12/18/2019 20:30:00 12/19/2019 11:22:00 104 12/19/2019 341 ## 23 721499574 10/18/2013 20:34:00 75 10/18/2013 101 ## 24 441714270 12/06/2019 11:30:00 12/07/2019 08:00:00 10 12/19/2019 233 ## 25 747375469 12/18/2019 18:15:00 100 12/18/2019 101 ## 26 464533599 12/18/2019 17:40:00 18 12/18/2019 341 ## 27 509186416 12/18/2019 17:00:00 12/18/2019 17:15:00 48 12/18/2019 113 ## 28 744568485 12/18/2019 14:00:00 17 12/18/2019 341 ## OFNS_DESC PD_CD PD_DESC CRM_ATPT_CPTD_CD LAW_CAT_CD BORO_NM ## 1 DANGEROUS WEAPONS 793 WEAPONS POSSESSION 3 COMPLETED FELONY MANHATTAN ## 2 FORGERY 729 FORGERY,ETC.,UNCLASSIFIED-FELO COMPLETED FELONY BRONX ## 3 HARRASSMENT 2 638 HARASSMENT,SUBD 3,4,5 COMPLETED VIOLATION QUEENS ## 4 MISCELLANEOUS PENAL LAW 117 RECKLESS ENDANGERMENT 1 COMPLETED FELONY BRONX ## 5 MURDER &amp; NON-NEGL. MANSLAUGHTER NA COMPLETED FELONY ## 6 BURGLARY 223 BURGLARY,RESIDENCE,NIGHT ATTEMPTED FELONY MANHATTAN ## 7 DANGEROUS DRUGS 521 CONTROLLED SUBSTANCE, SALE 5 COMPLETED FELONY BROOKLYN ## 8 PETIT LARCENY 321 LARCENY,PETIT FROM AUTO COMPLETED MISDEMEANOR QUEENS ## 9 OFF. AGNST PUB ORD SENSBLTY &amp; 639 AGGRAVATED HARASSMENT 2 COMPLETED MISDEMEANOR BRONX ## 10 PETIT LARCENY 321 LARCENY,PETIT FROM AUTO COMPLETED MISDEMEANOR MANHATTAN ## 11 GRAND LARCENY 433 LARCENY,GRAND FROM STORE-SHOPL COMPLETED FELONY MANHATTAN ## 12 PETIT LARCENY 301 LARCENY,PETIT BY ACQUIRING LOS COMPLETED MISDEMEANOR MANHATTAN ## 13 FORGERY 729 FORGERY,ETC.,UNCLASSIFIED-FELO COMPLETED FELONY QUEENS ## 14 MURDER &amp; NON-NEGL. MANSLAUGHTER NA COMPLETED FELONY ## 15 FELONY ASSAULT 109 ASSAULT 2,1,UNCLASSIFIED COMPLETED FELONY BRONX ## 16 ASSAULT 3 &amp; RELATED OFFENSES 114 OBSTR BREATH/CIRCUL COMPLETED MISDEMEANOR BRONX ## 17 BURGLARY 223 BURGLARY,RESIDENCE,NIGHT COMPLETED FELONY BROOKLYN ## 18 PETIT LARCENY 339 LARCENY,PETIT FROM OPEN AREAS, COMPLETED MISDEMEANOR BRONX ## 19 ARSON 263 ARSON 2,3,4 COMPLETED FELONY MANHATTAN ## 20 PETIT LARCENY 333 LARCENY,PETIT FROM STORE-SHOPL COMPLETED MISDEMEANOR BRONX ## 21 RAPE 153 RAPE 3 COMPLETED FELONY BRONX ## 22 PETIT LARCENY 321 LARCENY,PETIT FROM AUTO COMPLETED MISDEMEANOR QUEENS ## 23 MURDER &amp; NON-NEGL. MANSLAUGHTER NA COMPLETED FELONY ## 24 SEX CRIMES 175 SEXUAL ABUSE 3,2 COMPLETED MISDEMEANOR MANHATTAN ## 25 MURDER &amp; NON-NEGL. MANSLAUGHTER NA COMPLETED FELONY ## 26 PETIT LARCENY 333 LARCENY,PETIT FROM STORE-SHOPL COMPLETED MISDEMEANOR MANHATTAN ## 27 FORGERY 729 FORGERY,ETC.,UNCLASSIFIED-FELO COMPLETED FELONY BRONX ## 28 PETIT LARCENY 349 LARCENY,PETIT OF LICENSE PLATE COMPLETED MISDEMEANOR MANHATTAN ## LOC_OF_OCCUR_DESC PREM_TYP_DESC JURIS_DESC JURISDICTION_CODE PARKS_NM HADEVELOPT HOUSING_PSA ## 1 STREET N.Y. POLICE DEPT 0 ## 2 STREET N.Y. POLICE DEPT 0 ## 3 FRONT OF STREET N.Y. POLICE DEPT 0 ## 4 REAR OF STREET N.Y. POLICE DEPT 0 ## 5 OUTSIDE N.Y. POLICE DEPT NA &lt;NA&gt; &lt;NA&gt; ## 6 FRONT OF RESIDENCE - APT. HOUSE N.Y. POLICE DEPT 0 ## 7 STREET N.Y. POLICE DEPT 0 ## 8 FRONT OF STREET N.Y. POLICE DEPT 0 ## 9 STREET N.Y. POLICE DEPT 0 ## 10 STREET N.Y. POLICE DEPT 0 ## 11 INSIDE DEPARTMENT STORE N.Y. POLICE DEPT 0 ## 12 OTHER N.Y. POLICE DEPT 0 ## 13 STREET N.Y. POLICE DEPT 0 ## 14 INSIDE N.Y. POLICE DEPT NA ## 15 STREET N.Y. POLICE DEPT 0 ## 16 INSIDE RESIDENCE - APT. HOUSE N.Y. POLICE DEPT 0 ## 17 REAR OF RESIDENCE-HOUSE N.Y. POLICE DEPT 0 ## 18 OTHER METRO NORTH 15 ## 19 INSIDE RESIDENCE - PUBLIC HOUSING N.Y. HOUSING POLICE 2 LA GUARDIA 575.0 ## 20 INSIDE DEPARTMENT STORE N.Y. POLICE DEPT 0 ## 21 INSIDE ABANDONED BUILDING N.Y. POLICE DEPT 0 ## 22 STREET N.Y. POLICE DEPT 0 ## 23 OUTSIDE N.Y. POLICE DEPT NA &lt;NA&gt; &lt;NA&gt; ## 24 INSIDE HOSPITAL N.Y. POLICE DEPT 0 ## 25 OUTSIDE N.Y. POLICE DEPT NA ## 26 FRONT OF N.Y. POLICE DEPT 0 ## 27 INSIDE OTHER N.Y. POLICE DEPT 0 ## 28 STREET N.Y. POLICE DEPT 0 ## X_COORD_CD Y_COORD_CD SUSP_AGE_GROUP SUSP_RACE SUSP_SEX TRANSIT_DISTRICT Latitude Longitude ## 1 999937 238365 NA 40.82093 -73.94332 ## 2 1022508 261990 NA 40.88570 -73.86164 ## 3 1034178 209758 25-44 UNKNOWN M NA 40.74228 -73.81982 ## 4 1026412 258211 18-24 BLACK M NA 40.87531 -73.84755 ## 5 1001215 193881 NA 40.69883 -73.93882 ## 6 989665 201866 NA 40.72076 -73.98047 ## 7 1001545 192836 NA 40.69596 -73.93763 ## 8 1054394 162186 NA 40.61157 -73.74737 ## 9 1007027 245405 18-24 BLACK F NA 40.84023 -73.91768 ## 10 987147 220853 NA 40.77287 -73.98954 ## 11 987220 212676 NA 40.75043 -73.98928 ## 12 1001150 231355 UNKNOWN UNKNOWN U NA 40.80168 -73.93896 ## 13 996424 210017 NA 40.74312 -73.95607 ## 14 1009507 252093 18-24 BLACK HISPANIC M NA 40.85858 -73.90870 ## 15 1008690 238862 UNKNOWN UNKNOWN U NA 40.82227 -73.91170 ## 16 1014563 253789 25-44 BLACK M NA 40.86322 -73.89041 ## 17 989260 169727 NA 40.63254 -73.98195 ## 18 1008839 257949 NA 40.87466 -73.91109 ## 19 987063 198657 NA 40.71195 -73.98985 ## 20 1023380 239329 45-64 WHITE HISPANIC M NA 40.82350 -73.85862 ## 21 1008798 238971 18-24 BLACK HISPANIC M NA 40.82257 -73.91131 ## 22 1011048 193750 NA 40.69844 -73.90336 ## 23 1013091 184311 45-64 WHITE HISPANIC M NA 40.67253 -73.89603 ## 24 984623 209859 UNKNOWN BLACK M NA 40.74270 -73.99866 ## 25 1036299 153335 25-44 BLACK U NA 40.58740 -73.81261 ## 26 988668 218026 25-44 BLACK M NA 40.76511 -73.98405 ## 27 1016804 251715 NA 40.85752 -73.88232 ## 28 993626 213937 NA 40.75389 -73.96616 ## Lat_Lon PATROL_BORO STATION_NAME VIC_AGE_GROUP VIC_RACE VIC_SEX ## 1 (40.82092679700002, -73.94332421899996) PATROL BORO MAN NORTH UNKNOWN UNKNOWN E ## 2 (40.885701406000074, -73.86164032499995) PATROL BORO BRONX UNKNOWN UNKNOWN E ## 3 (40.74228115600005, -73.81982408) PATROL BORO QUEENS NORTH 25-44 WHITE HISPANIC F ## 4 (40.87531145100007, -73.84754521099995) PATROL BORO BRONX UNKNOWN UNKNOWN E ## 5 (40.698827283, -73.938819047) 25-44 BLACK M ## 6 (40.72075882100006, -73.98046642299995) PATROL BORO MAN SOUTH UNKNOWN UNKNOWN M ## 7 (40.695958362000056, -73.93763162199998) PATROL BORO BKLYN NORTH UNKNOWN UNKNOWN E ## 8 (40.61157006600007, -73.74736517199995) PATROL BORO QUEENS SOUTH 25-44 WHITE HISPANIC F ## 9 (40.84023413800003, -73.91768411399994) PATROL BORO BRONX 18-24 BLACK F ## 10 (40.77287456000005, -73.98954212299998) PATROL BORO MAN NORTH 45-64 BLACK M ## 11 (40.75043076800005, -73.98928217599996) PATROL BORO MAN SOUTH UNKNOWN UNKNOWN D ## 12 (40.80168405900002, -73.93895929199994) PATROL BORO MAN NORTH 25-44 UNKNOWN F ## 13 (40.743124599000055, -73.95606807299998) PATROL BORO QUEENS NORTH UNKNOWN UNKNOWN E ## 14 (40.85858397000004, -73.90869606999998) 18-24 WHITE HISPANIC M ## 15 (40.82227104100008, -73.91169777999993) PATROL BORO BRONX &lt;18 BLACK HISPANIC M ## 16 (40.86322306500005, -73.89041071099996) PATROL BORO BRONX 18-24 BLACK F ## 17 (40.63254475200006, -73.98195137599998) PATROL BORO BKLYN SOUTH 65+ WHITE F ## 18 (40.87465879000007, -73.91108943699999) PATROL BORO BRONX 25-44 WHITE F ## 19 (40.71195209300004, -73.98985467599994) PATROL BORO MAN SOUTH UNKNOWN UNKNOWN E ## 20 (40.823499964000064, -73.85861898699994) PATROL BORO BRONX UNKNOWN UNKNOWN D ## 21 (40.82256991600008, -73.91130716899994) PATROL BORO BRONX &lt;18 BLACK HISPANIC F ## 22 (40.69844340600008, -73.90335796299998) PATROL BORO QUEENS NORTH 25-44 WHITE M ## 23 (40.6725291, -73.896030558) 18-24 BLACK M ## 24 (40.74269929900004, -73.99865537999993) PATROL BORO MAN SOUTH 25-44 UNKNOWN F ## 25 (40.58740067900004, -73.81260554099998) 45-64 BLACK M ## 26 (40.76511454900003, -73.98405256399997) PATROL BORO MAN SOUTH UNKNOWN UNKNOWN D ## 27 (40.85752258300005, -73.88231889499998) PATROL BORO BRONX UNKNOWN UNKNOWN E ## 28 (40.75388742300004, -73.96615999399995) PATROL BORO MAN SOUTH UNKNOWN UNKNOWN D ## [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 7375965 rows ] The data is relatively complex. First, for our Arrest Data, we acquired over 5.1 million rows and 19 variables. Column1_ Variable Column2_ Classe Column3_ First_value || ARREST_KEY || integer || 32311380, 192799737, 193260691 || ARREST_DATE || integer || 06/18/2007, 01/26/2019, 02/06/2019 || PD_CD || integer || 511, 177, NA || PD_DESC || integer || CONTROLLED SUBSTANCE, POSSESSION 7, SEXUAL ABUSE, || KY_CD || integer || 235, 116, NA || OFNS_DESC || integer || DANGEROUS DRUGS, SEX CRIMES, || LAW_CODE || integer || PL 2200300, PL 1306503, PL 2203400 || LAW_CAT_CD || integer || M, F, F || ARREST_BORO || integer || Q, M, M || ARREST_PRECINCT || integer || 27, 25, 14 || JURISDICTION_CODE || integer || 1, 0, 0 || AGE_GROUP || integer || 18-24, 45-64, 25-44 || PERP_SEX || integer || M, M, M || PERP_RACE || integer || BLACK, BLACK, UNKNOWN || X_COORD_CD || double || NA, 1000555, 986685 || Y_COORD_CD || double || NA, 230994, 215375 || Latitude || double || NA, 40.800694331, 40.7578390030001 || Longitude || double || NA, -73.941109286, -73.991212111 || Lon_Lat || integer || , POINT (-73.94110928599997 40.800694331000045), POINT (-73.99121211099998 40.75783900300007) Then, for our Complaints Data, we acquired over 7.3 million rows and 35 variables. Column1_ Variable Column2_ Classe Column3_ First_value || CMPLNT_NUM || integer || 394506329, 968873685, 509837549 || CMPLNT_FR_DT || character || 12/31/2019, 12/29/2019, 12/15/2019 || CMPLNT_FR_TM || character || 17:30:00, 16:31:00, 18:45:00 || CMPLNT_TO_DT || character || , 12/29/2019, || CMPLNT_TO_TM || character || , 16:54:00, || ADDR_PCT_CD || integer || 32, 47, 109 || RPT_DT || character || 12/31/2019, 12/29/2019, 12/29/2019 || KY_CD || integer || 118, 113, 578 || OFNS_DESC || character || DANGEROUS WEAPONS, FORGERY, HARRASSMENT 2 || PD_CD || integer || 793, 729, 638 || PD_DESC || character || WEAPONS POSSESSION 3, FORGERY,ETC.,UNCLASSIFIED-FELO, HARASSMENT,SUBD 3,4,5 || CRM_ATPT_CPTD_CD || character || COMPLETED, COMPLETED, COMPLETED || LAW_CAT_CD || character || FELONY, FELONY, VIOLATION || BORO_NM || character || MANHATTAN, BRONX, QUEENS || LOC_OF_OCCUR_DESC || character || , , FRONT OF || PREM_TYP_DESC || character || STREET, STREET, STREET || JURIS_DESC || character || N.Y. POLICE DEPT, N.Y. POLICE DEPT, N.Y. POLICE DEPT || JURISDICTION_CODE || integer || 0, 0, 0 || PARKS_NM || character || , , || HADEVELOPT || character || , , || HOUSING_PSA || character || , , || X_COORD_CD || integer || 999937, 1022508, 1034178 || Y_COORD_CD || integer || 238365, 261990, 209758 || SUSP_AGE_GROUP || character || , , 25-44 || SUSP_RACE || character || , , UNKNOWN || SUSP_SEX || character || , , M || TRANSIT_DISTRICT || integer || NA, NA, NA || Latitude || double || 40.820926797, 40.8857014060001, 40.742281156 || Longitude || double || -73.943324219, -73.861640325, -73.81982408 || Lat_Lon || character || (40.82092679700002, -73.94332421899996), (40.885701406000074, -73.86164032499995), (40.74228115600005, -73.81982408) || PATROL_BORO || character || PATROL BORO MAN NORTH, PATROL BORO BRONX, PATROL BORO QUEENS NORTH || STATION_NAME || character || , , || VIC_AGE_GROUP || character || UNKNOWN, UNKNOWN, 25-44 || VIC_RACE || character || UNKNOWN, UNKNOWN, WHITE HISPANIC || VIC_SEX || character || E, E, F We processed the Arrest Data, Complaints Data and other data sets separately. 3.3 Pre-processing for Arrest Data 3.3.1 Arrest Data: Time Analysis Pre-processing To formulate proper data structure and columns, we developed a function allowing we derive year and/or month information from the original time stamp column of Arrest Data. Further more, this function also allow us to decide whether an grouping by year and/or month is needed. One can find further details in our repository. Table 3.1: Head 6 Rows in Arrest Dataset for Temporal Analysis Year LAW_CAT_CD count prop 2006 F 103308 0.2786039 2006 I 2040 0.0055015 2006 M 245508 0.6620928 2006 V 19950 0.0538017 2007 F 108617 0.2700982 2007 I 4234 0.0105287 We selected information from year, LAW_CAT_CD (crime category), counting of each category, and probability represented by frequency out via processing on ‘LAW_CAT_CD’, ‘ARREST_DATE’, and ‘Year’. This allowed us to perform a analysis on crime category based on their counting and probability in a time series manner. Column1_ Variable Column2_ Classe Column3_ First_value || Year || character || 2006, 2006, 2006 || LAW_CAT_CD || integer || F, I, M || count || integer || 103308, 2040, 245508 || prop || double || 0.278603906085662, 0.00550152910147085, 0.662092846394071 3.3.2 Arrest Data: Geometry Anaylsis Pre-processing We selected out ‘LAW_CAT_CD’, ‘ARREST_DATE’, ‘Year’, ‘ARREST_BORO’, ‘Latitude’, and ‘Longitude’ in order to get a better understanding on the geometry distribution of the crimes. Table 3.2: Head 6 Rows in Arrest Dataset for Spatial Analysis LAW_CAT_CD ARREST_DATE Year ARREST_BORO Latitude Longitude F 01/26/2019 2019 M 40.80069 -73.94111 F 02/06/2019 2019 M 40.75784 -73.99121 F 01/06/2016 2016 K 40.64865 -73.95034 F 11/15/2018 2018 K 40.67458 -73.93022 M 09/13/2006 2006 K 40.67125 -73.92671 F 10/24/2018 2018 M 40.71620 -73.99749 Here is a brief structure of the cleaned data set. Column1_ Variable Column2_ Classe Column3_ First_value || LAW_CAT_CD || integer || F, F, F || ARREST_DATE || integer || 01/26/2019, 02/06/2019, 01/06/2016 || Year || character || 2019, 2019, 2016 || ARREST_BORO || integer || M, M, K || Latitude || double || 40.800694331, 40.7578390030001, 40.648650085 || Longitude || double || -73.941109286, -73.991212111, -73.950335563 3.4 Pre-processing for Complaint Data Our modification on Complaint Data set are similar to what we processed on Arrest Data set. Column1_ Variable Column2_ Classe Column3_ First_value || Year || character || 2006, 2006, 2006 || LAW_CAT_CD || character || FELONY, MISDEMEANOR, VIOLATION || count || integer || 171638, 288539, 69417 || prop || double || 0.324093550908809, 0.544830568322149, 0.131075880769042 3.5 Pre-processing for other Data Sets No pre-processing is needed for other data sets. 3.6 Next Stage We have successfully constructed cleaned data sets now. Next, we can start analyzing. "],["missing-values.html", "Chapter 4 Missing values 4.1 Missing Data Analysis", " Chapter 4 Missing values 4.1 Missing Data Analysis There are indeed a lot of missing data in our NYPD crime datasets. Here is a compreshensive missing data analyzing accross all the data set. Notice that, for some datasets, we have more than 1 billion rows. To simplified the first draft analysis, we always choose the first 50000 rows if the number of rows exceeds or equals to 50000, otherwise the whole dataset. Also, to keep track on our exploration targets, we choose to delete some of the unrelated variables. Beside, to make our graphs more readable, we have coded the original name of variables into integers. Specific coding rules will be explained during the analyzing below. 4.1.1 For shooting data (Historical): Here is our “shooting incident (historical)” dataset. The original dataset contains 19 variables and 23568 observations. To simplify our analysis, we have figured that variables named “JURISDICTION_CODE”,“X_COORD_CD”, “Y_COORD_CD”, “Lon_Lat” are not necessary. So we deleted them. As shown below, according to the order in the data frame, we coded the variables from 1 to 15. As one can see, the variables except x6, x8, x9, x10 are all completed. What noticealbe is that the x6 variable (LOCATION_DESC) has a missing rate almost 30%. And 25% of all the cases are recorded completed. Beside, the age group, sex, and race of crininals are often missed (x8, x9, and x10), especially the ages, almost 40% of missing data are related to ages. 4.1.2 For shooting data (YTD): Here is our “shooting incident (YTD)” dataset. The original dataset contains 19 variables and 902 observations. To simplify our analysis, we have figured that variables named “JURISDICTION_CODE”,“X_COORD_CD”, “Y_COORD_CD”, “Lon_Lat” are not necessary. So we deleted them. As shown below, according to the order in the data frame, we coded the variables from 1 to 15. As one can see, there are only 4 vairables are missed: location, age group, sex, and race. Similarly to the historical data, the identification of the cirminals (age, sex, race) are often missed. However, we still have about 15% of all the data are complete. Besides, over 55% percent of missing data are because of age, sex, and race of the cirminals. Which may indicates that the shooting crime criminals are very hard to identificate. 4.1.3 For Hata Crimes: Here is our “hate crimes” dataset. The original dataset contains 14 variables and 1704 observations. To simplify our analysis, we have figured that variables named “JURISDICTION_CODE”,“X_COORD_CD”, “Y_COORD_CD”, “Lon_Lat”, “Arrest.Id”, “Complaint.Precinct.Code”, “Arrest.Date”, “Full.Complaint.ID” are not necessary. So we deleted them. As shown below, according to the order in the data frame, we coded the variables from 1 to 10. It is very impressive to find out that the hate crime data are all completes cases. Nothing was missed according to the rocords of NYPD. 4.1.4 For crime court summons (Historical): Here is our “crime court summons (historical)” dataset. The original dataset contains 17 variables and 50000 observations. To simplify our analysis, we have figured that variables named “JURISDICTION_CODE”,“X_COORDINATE_CD”, “Y_COORDINATE_CD”, “Lon_Lat”, “PRECINCT_OF_OCCUR”, “SUMMONS_KEY” are not necessary. So we deleted them. As shown below, according to the order in the data frame, we coded the variables from 1 to 12. As one can see, there are 6 out of 12 variables can be missing in our historical cour summons datasets, which is x4 to x9, which is LAW_DESCRIPTION, SUMMONS_CATEGORY_TYPE, AGE_GROUP, SEX, RACE, and BORO. What important is, we still have 35% of observations are completed. Law description missing are often related with summons category missing, which combined leads to 25% percent of the missing cases. What’s more, similar to our anlysis in the shooting crimes, it is also hard to identify the criminals by age, sex, and race, which combined leads to 38% of missing. Other missing are very small in number. 4.1.5 For crime court summons (YTD): Here is our “crime court summons (YTD)” dataset. The original dataset contains 17 variables and 25691 observations. To simplify our analysis, we have figured that variables named “JURISDICTION_CODE”,“X_COORDINATE_CD”, “Y_COORDINATE_CD”, “Lon_Lat”, “PRECINCT_OF_OCCUR”, “SUMMONS_KEY” are not necessary. So we deleted them. As shown below, according to the order in the data frame, we coded the variables from 1 to 12. This data set is not ideal. As one can percieve, there are only 4 variables out of 12 are complete. Good news is, we still got 25% percent of data are complete. Besides, the missin are mainly from 2 kinds: one is the missing of age, sex, and race; the other is from law description and summon type. This pattern is similar to the historical data. 4.1.6 For Motor Vehicle Collisions and Crahses (Historical): Here is our “crime court summons (YTD)” dataset. The original dataset contains 29 variables and 50000 observations. To simplify our analysis, we have figured that variables named “COLLISION_ID”, “LOCATION”, “ZIP.CODE”, “CONTRIBUTING.FACTOR.VEHICLE.1”, “CONTRIBUTING.FACTOR.VEHICLE.2”, “CONTRIBUTING.FACTOR.VEHICLE.3”, “CONTRIBUTING.FACTOR.VEHICLE.4”, “CONTRIBUTING.FACTOR.VEHICLE.5”, “VEHICLE.TYPE.CODE.1”, “VEHICLE.TYPE.CODE.2”, “VEHICLE.TYPE.CODE.3”, “VEHICLE.TYPE.CODE.4”, “VEHICLE.TYPE.CODE.5” are not necessary. So we deleted them. As shown below, according to the order in the data frame, we coded the variables from 1 to 16. It is weird that almost all missing data are related to the missing of location information, which is x8, x7, and x3, which are borough, on-street name, and out-street name. This pattern may indicates that in our motor collisions and curshed datasets, it can be difficult to locate the criminals, which may also shows that there is a tendency to run away after curshed in NYC. 4.1.7 For arrest (Historical): Here is our “crime court summons (YTD)” dataset. The original dataset contains 19 variables and 50000 observations. To simplify our analysis, we have figured that variables named “JURISDICTION_CODE”,“X_COORD_CD”, “Y_COORD_CD”, “Lon_Lat” are not necessary. So we deleted them. As shown below, according to the order in the data frame, we coded the variables from 1 to 15. Our arrests datasets are very friendly for analysts. Almost all the cases are complete. 4.1.8 For arrest (YTD): Here is our “crime court summons (YTD)” dataset. The original dataset contains 19 variables and 74243 observations. To simplify our analysis, we have figured that variables named “JURISDICTION_CODE”,“X_COORD_CD”, “Y_COORD_CD”, “Lon_Lat”, “New.Georeferenced.Column” are not necessary. So we deleted them. As shown below, according to the order in the data frame, we coded the variables from 1 to 15. Just like the historical datasets, the YTD datasets are almost complete. "],["results.html", "Chapter 5 Results 5.1 Crime Arrest Analysis 5.2 Crime Complaint Analysis 5.3 Hate Crime Analysis", " Chapter 5 Results There are many traces about how the pandemic influence the crimes that one can find from the media. According to Wall Street Journal, there is a fall back on crimes when the pandemic just started. However, as pandemic shut down the city, the attorneys have declined to prosecute more then 500 cases from March 12, 2020 to April 28, 2020. Along with the influence form virus getting deeper, by the end of 2020, New York police power seemed to have a hard time in solving crimes. In this report, we ask 3 straightforward questions: How does the emerging of COVID-19 affect the number of crime behaviors? If so, is the number raising or declining? Is there any difference in crime control among the boroughs? There is a new catogory in post-COVID era called “Hate Crime”. How does hate crimes distributed on the geometry dimension? To address these questions We first analyzed Arrest Data Then Complaint Data Then Hate Crime Data. 5.1 Crime Arrest Analysis From 2006 to 2020, NYPD has recorded over 5.1 million arresting. We can derive our analysis on both time and space dimensions. The Analysis for Arrest Data is as follow: we first we analyse the time span, then we analyse the geometry distribution of crimes. We combine the 2-dimension analysis for further insights at last. For the time span part, we first perform a time analysis on the different level of offense crime (felony, misdemeanor, violation, and other). The whole time span is from 2006 to 2020. For the geometry part, we first provide a overall visualization on the geometry distribution of the arrests. Then we zoom in to boroughs (Bronx, Staten Island, Brooklyn, Manhattan, and Queens). For the analysis by combining time and geometry, we specifically select 2010, 2019, and 2020 as featured years. Then we derive crimes categories distribution analysis based on boroughs with these time window. 5.1.1 Time Analysis We first perform some transformation on the arrest data set to enable our illustration for the trend of the data. Then we first could illustrate in the line plot to see the trend of the overall incidents for each level of offense to see if there is any dramatic change in the pandemeic year. As is shown in the graph, there are general declining trends on all categories of crimes from 2006 to 2020. The total number of all crime categories hits a historical low at 139 024 cases. For misdemeanor arrest, the total number of crimes per year remains in a slowly increasing pattern before 2010, and this tendency brought the number to a historical height in 2010. After the peak, there is a 10-year declining period till 2020. From 2010 to 2014, the decreasing process is relatively smooth, only yielded 11.16% of cases decreasing. The number then realized a grammatical falling in 2015, a total of 220 169, which is a 15.19% decreasing year-on-year. Then move started a fast decreasing period. From 2015 to 2020, the percentage decreasing in misdemeanor is, astonishingly, 84.74%, or 186 591. The total number hit an 14-year high percent decrease year-on-year, 42.33%, to 73 015. For felony, before 2009, the level of total number of felony arrest remains high, over 100k cases. Starting 2010, the number is stabilized between 90 000 and 100 000. A decreasing trend started in 2016. Till 2019, there is a 11.69%, or 11 038 decrease. Similar to the misdemeanor in 2020, a huge decreasing, which is 19.18% year-on-year or 18 106 cases occurred. For violation, a raising was detected between 2006 and 2009. From 2009 to 2014, there is a 5-year smooth period that the total case each year barely change. Starting 2015, a falling started and reached a very low level in 2018 (3017). In 2020, just like misdemeanor and felony, the number jumped from 2822 to 549. Then, we investigate the ratio of each kind of offense by years by looking at the stacked bar plot, Over the years since 2016 to 2020, the misdemeanor level of offense remains as the most frequently happened events, its ratio suffers a significant decrease. In 2010, the portion of misdemeanor reached a historical high at 69.38%, over 2/3 of all the cases. In 2019, the number is 59.36%. In 2020, with the generalized decreasing in cases of all categories, the number hit a historical low, at 52.52%, just above half the cases. Moreover, we can witness the improvement in the safety of the community by noticing the fewer and fewer occupation of the violation class events. 5.1.2 Geometry Dimension: Overall Illustration We marked all the locations of arrest in 2020 on map. According to our interactive map, these area suffers greater cases reported than other area: Brooklyn downtown, Harlem in Manhattan, Morrisania in Bronx, Manhattan downtown. Manhattan is generally safer than other boroughs (not including Staten Island because of population differences). Harlem in Mannhattan has the biggest number in arrest. The main function of our map is serving as a general guide of safety. One in New York City can figure out how exactly the social security situation was in one’s area. Further more, we specifically improved the readability by aggregating the arrests into their “most common centers”. As one zooming in/out the map, the aggregation level will adjust against one’s zooming scales, which means no matter what scale of arresting location (say, from boroughs to streets) information the one want, the map can always provide a great aggregation. 5.1.3 Geometry Dimension: Zoom in to Borough &amp; Combining Time Series Analysis We could zoom in to investigate the detailed spatial distribution of those offense incidents. As mentioned in our time analysis above, year of 2010, 2015, and 2019 are special turning points/starting point of tendencies. And 2020 is exactly when the COVID-19 broke, which is our main target in this project. Based on our overall geometry distribution navigating tool above, we can analyze the distributions of crimes categories in the 5 boroughs of New York City. In the 4 year time point, Brooklyn always has the highest arrest number among all 5 boroughs. Manhattan follows Brooklyn closely. Bronx and Queens follow Manhattan in order. And Staten Island always with lowest number. This pattern may related to population distribution, All 5 boroughs did well in reducing the number of violations. In 2020, almost all arrests lie in misdemeanor and felony. &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD * Both the misdemeanor and felony arrests decrease in all 5 boroughs through the years. However, the number of misdemeanor decrease much faster than the number of felony. In 2010, misdemeanor contribute to almost 70% of arrests. In 2019, this number in Brooklyn is around 50%. In 2020, this number in all 5 boroughs is approximate 50%. Bronx, Brooklyn, and Manhattan achieved almost 50% cut in arrest from 2010 to 2019, while Queens only did 40%. Although the number of arrest in Staten Island is relatively small comparing to other boroughs, Staten Island has made a surprising 60% cut in arrest number. Even though Bronx has much lower total number of arrest in 2010, 2015, and 2019, in 2020, arrest number in Bronx (32 382) is almost the same as the number in Manhattan (32 609), where the difference divided by Manhattan is less than 1%. Manhattan performs much better than Bronx in cutting the total number considering the difference between the 2 boroughs in 2010 divided by Manhattan is over 11%, or 12k. The same thing happened between Manhattan and Queens. In 2010, the numbers gap divided by Manhattan is over 32%, or 36k. However, in 2020, gap is merely 8.5%, or 2.7k. 5.2 Crime Complaint Analysis To provide a more comprehensive understanding about the crime number trend, we import Complaints Data. We analyze this set as follow: Draft trend dectection by solely analyzing this set. Combine Arrest and Complaint Data sets Provide a NLP analysis to address what are the exact contents of complaints 5.2.1 Time Analysis Although Arrests Data shows a dramatic downfall during the years, the Complaints Data is different. Misdemeanor still shows material decreasing, but Felony and Violation does not. The complaint about violation even has a increasing trend starting 2011. We can check this further by combining the arrests and complaints data sets. The 2 data sets have patterns as follow: Felony and misdemeanor share the general tread of increasing/decreasing in different periods. That is to say, when arrest number falls, complaints number falls, too. From 2006 to 2020, the number of violation in complaints and arrests diverge all the time. This category almost follows a contrary direction in number changes. From 2006 to 2011, as the actual arrests raise, the complaints slightly fall. From 2012 to 2020, as the arrests number dramatically falls, the complaints about violation present a upward trend. We can proof our observations in a more accurate way. By calculating the ratio of arrest over complaint, we merged the 2 data sets into a comprehensive one. The smaller the ratio, the bigger the gap between complaints and arrests (complaints &gt; arrests). The most important pattern is, staring 2013, a consecutive decreasing in Violation happened. If we regard the actual arrests as actual happened crimes, the social security powers have successfully rooted violation. Both felony and misdemeanor displayed a relatively stable range before 2014. Staring 2015, both of the ratios entered a decreasing period. The misdemeanor ratio implies a bigger gap between arrests and complains. 5.2.2 NLP Analysis This word cloud displayed the actual contents of complaints in a decent way. The top 3 level of contents are mainly stealing and assaulting. Specifically: Larceny is the most common complaints. Petit, harassment, and assault make up the second level The third level of common complaints was formed by offenses and mischief. 5.3 Hate Crime Analysis Based on the heat map, we can derive analysis in a high-to-low manner: *Harlem in Manhattan has the most hate crimes. Jamaica, Rochdale, Laurelton, Cambridge Heights, and Queens Village is very close to Harlem. Area close to Broadway in Brooklyn, Area close to Belt Pkwy in Brooklyn, Flushing in Queens, Midtown &amp; Upper Town in Manhattan has higher Hate Crimes number than most of other areas in New York City. Staten Island has a very small number of Hate Crimes. Total Hate Crime Number (2021, YTD). "],["interactive-component.html", "Chapter 6 Interactive component 6.1 Overview of Arrests Data by Time", " Chapter 6 Interactive component 6.1 Overview of Arrests Data by Time Total Arrests in History Arrests by Categories in 2021 Select a crime category: "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
