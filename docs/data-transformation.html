<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | NY Crime Investigation</title>
  <meta name="description" content="Chapter 3 Data transformation | NY Crime Investigation" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | NY Crime Investigation" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | NY Crime Investigation" />
  
  
  

<meta name="author" content="Jingwen Bai, Qiran Li, Zheng Wu" />


<meta name="date" content="2021-12-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-8.1.2/highcharts.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-3d.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-more.js"></script>
<script src="libs/highcharts-8.1.2/modules/stock.js"></script>
<script src="libs/highcharts-8.1.2/modules/map.js"></script>
<script src="libs/highcharts-8.1.2/modules/annotations.js"></script>
<script src="libs/highcharts-8.1.2/modules/data.js"></script>
<script src="libs/highcharts-8.1.2/modules/drilldown.js"></script>
<script src="libs/highcharts-8.1.2/modules/item-series.js"></script>
<script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-8.1.2/modules/exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/export-data.js"></script>
<script src="libs/highcharts-8.1.2/modules/funnel.js"></script>
<script src="libs/highcharts-8.1.2/modules/heatmap.js"></script>
<script src="libs/highcharts-8.1.2/modules/treemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/sankey.js"></script>
<script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-8.1.2/modules/organization.js"></script>
<script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script>
<script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script>
<script src="libs/highcharts-8.1.2/modules/sunburst.js"></script>
<script src="libs/highcharts-8.1.2/modules/vector.js"></script>
<script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script>
<script src="libs/highcharts-8.1.2/modules/xrange.js"></script>
<script src="libs/highcharts-8.1.2/modules/tilemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/venn.js"></script>
<script src="libs/highcharts-8.1.2/modules/gantt.js"></script>
<script src="libs/highcharts-8.1.2/modules/timeline.js"></script>
<script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-8.1.2/modules/bullet.js"></script>
<script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script>
<script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script>
<script src="libs/highcharts-8.1.2/modules/lollipop.js"></script>
<script src="libs/highcharts-8.1.2/modules/series-label.js"></script>
<script src="libs/highcharts-8.1.2/plugins/motion.js"></script>
<script src="libs/highcharts-8.1.2/custom/reset.js"></script>
<script src="libs/highcharts-8.1.2/modules/boost.js"></script>
<script src="libs/highchart-binding-0.8.2/highchart.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">nycCrime2021</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#nypd-complaints-dataset"><i class="fa fa-check"></i><b>2.1</b> NYPD Complaints Dataset</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#nypd-arrest-dataset"><i class="fa fa-check"></i><b>2.2</b> NYPD Arrest Dataset</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#other-data-sets"><i class="fa fa-check"></i><b>2.3</b> Other Data Sets</a></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#featured-variables"><i class="fa fa-check"></i><b>2.4</b> Featured Variables</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#construction-of-processing-modules"><i class="fa fa-check"></i><b>3.1</b> Construction of Processing Modules</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#preprocessing-loading-and-descriptive-analysis"><i class="fa fa-check"></i><b>3.2</b> Preprocessing: Loading and Descriptive Analysis</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#pre-processing-for-arrest-data"><i class="fa fa-check"></i><b>3.3</b> Pre-processing for Arrest Data</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-transformation.html"><a href="data-transformation.html#arrest-data-time-analysis-pre-processing"><i class="fa fa-check"></i><b>3.3.1</b> Arrest Data: Time Analysis Pre-processing</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-transformation.html"><a href="data-transformation.html#arrest-data-geometry-anaylsis-pre-processing"><i class="fa fa-check"></i><b>3.3.2</b> Arrest Data: Geometry Anaylsis Pre-processing</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#pre-processing-for-complaint-data"><i class="fa fa-check"></i><b>3.4</b> Pre-processing for Complaint Data</a></li>
<li class="chapter" data-level="3.5" data-path="data-transformation.html"><a href="data-transformation.html#pre-processing-for-other-data-sets"><i class="fa fa-check"></i><b>3.5</b> Pre-processing for other Data Sets</a></li>
<li class="chapter" data-level="3.6" data-path="data-transformation.html"><a href="data-transformation.html#next-stage"><i class="fa fa-check"></i><b>3.6</b> Next Stage</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#missing-data-analysis"><i class="fa fa-check"></i><b>4.1</b> Missing Data Analysis</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="missing-values.html"><a href="missing-values.html#for-shooting-data-historical"><i class="fa fa-check"></i><b>4.1.1</b> For shooting data (Historical):</a></li>
<li class="chapter" data-level="4.1.2" data-path="missing-values.html"><a href="missing-values.html#for-shooting-data-ytd"><i class="fa fa-check"></i><b>4.1.2</b> For shooting data (YTD):</a></li>
<li class="chapter" data-level="4.1.3" data-path="missing-values.html"><a href="missing-values.html#for-hata-crimes"><i class="fa fa-check"></i><b>4.1.3</b> For Hata Crimes:</a></li>
<li class="chapter" data-level="4.1.4" data-path="missing-values.html"><a href="missing-values.html#for-crime-court-summons-historical"><i class="fa fa-check"></i><b>4.1.4</b> For crime court summons (Historical):</a></li>
<li class="chapter" data-level="4.1.5" data-path="missing-values.html"><a href="missing-values.html#for-crime-court-summons-ytd"><i class="fa fa-check"></i><b>4.1.5</b> For crime court summons (YTD):</a></li>
<li class="chapter" data-level="4.1.6" data-path="missing-values.html"><a href="missing-values.html#for-motor-vehicle-collisions-and-crahses-historical"><i class="fa fa-check"></i><b>4.1.6</b> For Motor Vehicle Collisions and Crahses (Historical):</a></li>
<li class="chapter" data-level="4.1.7" data-path="missing-values.html"><a href="missing-values.html#for-arrest-historical"><i class="fa fa-check"></i><b>4.1.7</b> For arrest (Historical):</a></li>
<li class="chapter" data-level="4.1.8" data-path="missing-values.html"><a href="missing-values.html#for-arrest-ytd"><i class="fa fa-check"></i><b>4.1.8</b> For arrest (YTD):</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#crime-arrest-analysis"><i class="fa fa-check"></i><b>5.1</b> Crime Arrest Analysis</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#time-analysis"><i class="fa fa-check"></i><b>5.1.1</b> Time Analysis</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#geometry-dimension-overall-illustration"><i class="fa fa-check"></i><b>5.1.2</b> Geometry Dimension: Overall Illustration</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#geometry-dimension-zoom-in-to-borough-combining-time-series-analysis"><i class="fa fa-check"></i><b>5.1.3</b> Geometry Dimension: Zoom in to Borough &amp; Combining Time Series Analysis</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#crime-complaint-analysis"><i class="fa fa-check"></i><b>5.2</b> Crime Complaint Analysis</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#time-analysis-1"><i class="fa fa-check"></i><b>5.2.1</b> Time Analysis</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#nlp-analysis"><i class="fa fa-check"></i><b>5.2.2</b> NLP Analysis</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#hate-crime-analysis"><i class="fa fa-check"></i><b>5.3</b> Hate Crime Analysis</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#overview-of-arrests-data-by-time"><i class="fa fa-check"></i><b>6.1</b> Overview of Arrests Data by Time</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NY Crime Investigation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<p>The NYPD Open Data Sets are generally well constructed and with consistent data structure and type, and the sets usually do not have serious missing value issues. Therefore, our focus here would mainly be insights formulation, where we shall decide the specific metric for further exploration.</p>
<p>Specifically, we include the basic data transformation as the pre-processing module to clean the data and obtain some fundamental insights.</p>
<p>Notice that, since all our data listed here have millions of rows, so we turn to the <code>ff</code> library to enable fast loading the data set feature. Besides, we also developed several reusable modules for cleaner and more efficient processing. For more information on ‘ff’ package, please check <a href="https://cran.r-project.org/web/packages/ff/index.html">here</a>.</p>
<p>Our interest lies on the geometry distribution and the time series analysis of our Arrest Data and Complaint Data.</p>
<p>Finally, after successfully cleaned/pre-processed the Arrest Data and the Complaint Data, we introduced a map API as well to include the geometry information for our further visualized and interactive analysis in later chapters.</p>
<div id="construction-of-processing-modules" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Construction of Processing Modules</h2>
<p>We developed several reusable modules that we would repetitively use in our analysis below. Specifically, we set our environment as well as a time stamp formatting function to unify our criteria for date data.</p>
<blockquote>
<p>One can implement these modules via the syntax of time-and-date manipulation in R and “knitr” as well as “magrittr” packages.</p>
</blockquote>
<blockquote>
<p>We also developed a mimic function for str() to provide insights of the data sets in a table way.</p>
</blockquote>
<blockquote>
<p>To formulate proper data structure and columns, we developed a function allowing we derive year and/or month information from the original time stamp column of Arrest Data. Further more, this function also allow us to decide whether an grouping by year and/or month is needed. One can find further details in our repository.</p>
</blockquote>
<p>For a detailed implementation, please refer to our <a href="https://github.com/Kitatine/ny-crime-edav-2021">repository</a>.</p>
</div>
<div id="preprocessing-loading-and-descriptive-analysis" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Preprocessing: Loading and Descriptive Analysis</h2>
<p>We created tables for the data set structures to get a first impression on how exactly the data is showed.</p>
<pre><code>## &#39;data.frame&#39;:    5153369 obs. of  19 variables:
##  $ ARREST_KEY       : int  32311380 192799737 193260691 149117452 190049060 24288194 189182271 196324211 196785901 197554056 ...
##  $ ARREST_DATE      : Factor w/ 5479 levels &quot;01/01/2019&quot;,&quot;01/02/2018&quot;,..: 247 44 62 9 495 399 462 164 181 210 ...
##  $ PD_CD            : int  511 177 NA 153 157 203 153 157 175 175 ...
##  $ PD_DESC          : Factor w/ 423 levels &quot;&quot;,&quot;ACCOSTING,FRAUDULENT&quot;,..: 33 153 1 139 137 176 139 137 155 155 ...
##  $ KY_CD            : int  235 116 NA 104 104 352 104 104 233 233 ...
##  $ OFNS_DESC        : Factor w/ 88 levels &quot;&quot;,&quot;ADMINISTRATIVE CODE&quot;,..: 11 56 1 54 54 10 54 54 56 56 ...
##  $ LAW_CODE         : Factor w/ 2441 levels &quot;&quot;,&quot;ABC00000MA&quot;,..: 308 137 334 114 117 151 114 117 129 129 ...
##  $ LAW_CAT_CD       : Factor w/ 5 levels &quot;&quot;,&quot;F&quot;,&quot;I&quot;,&quot;M&quot;,..: 4 2 2 2 2 4 2 2 4 4 ...
##  $ ARREST_BORO      : Factor w/ 6 levels &quot;B&quot;,&quot;K&quot;,&quot;M&quot;,&quot;Q&quot;,..: 4 3 3 2 2 2 3 2 1 3 ...
##  $ ARREST_PRECINCT  : int  27 25 14 67 77 77 5 77 50 26 ...
##  $ JURISDICTION_CODE: int  1 0 0 0 0 2 0 0 0 0 ...
##  $ AGE_GROUP        : Factor w/ 92 levels &quot;&lt;18&quot;,&quot;18-24&quot;,..: 2 4 3 3 3 4 4 4 3 4 ...
##  $ PERP_SEX         : Factor w/ 2 levels &quot;F&quot;,&quot;M&quot;: 2 2 2 2 2 2 2 2 2 1 ...
##  $ PERP_RACE        : Factor w/ 8 levels &quot;AMERICAN INDIAN/ALASKAN NATIVE&quot;,..: 3 3 5 3 3 3 7 4 3 3 ...
##  $ X_COORD_CD       : num  NA 1000555 986685 998032 1003606 ...
##  $ Y_COORD_CD       : num  NA 230994 215375 175598 185050 ...
##  $ Latitude         : num  NA 40.8 40.8 40.6 40.7 ...
##  $ Longitude        : num  NA -73.9 -74 -74 -73.9 ...
##  $ Lon_Lat          : Factor w/ 119134 levels &quot;&quot;,&quot;POINT (-73.70659676099996 40.75353245800005)&quot;,..: 1 3325 4680 3693 2941 2826 4834 2941 1926 3905 ...</code></pre>
<table style="width:100%;">
<caption>(#tab:load the data, arrest)Head 6 Rows in Arrest Dataset for Temporal Analysis</caption>
<colgroup>
<col width="4%" />
<col width="4%" />
<col width="2%" />
<col width="12%" />
<col width="2%" />
<col width="6%" />
<col width="4%" />
<col width="4%" />
<col width="4%" />
<col width="5%" />
<col width="6%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="4%" />
<col width="4%" />
<col width="3%" />
<col width="3%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">ARREST_KEY</th>
<th align="left">ARREST_DATE</th>
<th align="right">PD_CD</th>
<th align="left">PD_DESC</th>
<th align="right">KY_CD</th>
<th align="left">OFNS_DESC</th>
<th align="left">LAW_CODE</th>
<th align="left">LAW_CAT_CD</th>
<th align="left">ARREST_BORO</th>
<th align="right">ARREST_PRECINCT</th>
<th align="right">JURISDICTION_CODE</th>
<th align="left">AGE_GROUP</th>
<th align="left">PERP_SEX</th>
<th align="left">PERP_RACE</th>
<th align="right">X_COORD_CD</th>
<th align="right">Y_COORD_CD</th>
<th align="right">Latitude</th>
<th align="right">Longitude</th>
<th align="left">Lon_Lat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">32311380</td>
<td align="left">06/18/2007</td>
<td align="right">511</td>
<td align="left">CONTROLLED SUBSTANCE, POSSESSION 7</td>
<td align="right">235</td>
<td align="left">DANGEROUS DRUGS</td>
<td align="left">PL 2200300</td>
<td align="left">M</td>
<td align="left">Q</td>
<td align="right">27</td>
<td align="right">1</td>
<td align="left">18-24</td>
<td align="left">M</td>
<td align="left">BLACK</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">192799737</td>
<td align="left">01/26/2019</td>
<td align="right">177</td>
<td align="left">SEXUAL ABUSE</td>
<td align="right">116</td>
<td align="left">SEX CRIMES</td>
<td align="left">PL 1306503</td>
<td align="left">F</td>
<td align="left">M</td>
<td align="right">25</td>
<td align="right">0</td>
<td align="left">45-64</td>
<td align="left">M</td>
<td align="left">BLACK</td>
<td align="right">1000555</td>
<td align="right">230994</td>
<td align="right">40.80069</td>
<td align="right">-73.94111</td>
<td align="left">POINT (-73.94110928599997 40.800694331000045)</td>
</tr>
<tr class="odd">
<td align="right">193260691</td>
<td align="left">02/06/2019</td>
<td align="right">NA</td>
<td align="left"></td>
<td align="right">NA</td>
<td align="left"></td>
<td align="left">PL 2203400</td>
<td align="left">F</td>
<td align="left">M</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="left">25-44</td>
<td align="left">M</td>
<td align="left">UNKNOWN</td>
<td align="right">986685</td>
<td align="right">215375</td>
<td align="right">40.75784</td>
<td align="right">-73.99121</td>
<td align="left">POINT (-73.99121211099998 40.75783900300007)</td>
</tr>
<tr class="even">
<td align="right">149117452</td>
<td align="left">01/06/2016</td>
<td align="right">153</td>
<td align="left">RAPE 3</td>
<td align="right">104</td>
<td align="left">RAPE</td>
<td align="left">PL 1302503</td>
<td align="left">F</td>
<td align="left">K</td>
<td align="right">67</td>
<td align="right">0</td>
<td align="left">25-44</td>
<td align="left">M</td>
<td align="left">BLACK</td>
<td align="right">998032</td>
<td align="right">175598</td>
<td align="right">40.64865</td>
<td align="right">-73.95034</td>
<td align="left">POINT (-73.95033556299995 40.648650085000035)</td>
</tr>
<tr class="odd">
<td align="right">190049060</td>
<td align="left">11/15/2018</td>
<td align="right">157</td>
<td align="left">RAPE 1</td>
<td align="right">104</td>
<td align="left">RAPE</td>
<td align="left">PL 1303501</td>
<td align="left">F</td>
<td align="left">K</td>
<td align="right">77</td>
<td align="right">0</td>
<td align="left">25-44</td>
<td align="left">M</td>
<td align="left">BLACK</td>
<td align="right">1003606</td>
<td align="right">185050</td>
<td align="right">40.67458</td>
<td align="right">-73.93022</td>
<td align="left">POINT (-73.93022154099998 40.67458330800008)</td>
</tr>
<tr class="even">
<td align="right">24288194</td>
<td align="left">09/13/2006</td>
<td align="right">203</td>
<td align="left">TRESPASS 3, CRIMINAL</td>
<td align="right">352</td>
<td align="left">CRIMINAL TRESPASS</td>
<td align="left">PL 140100E</td>
<td align="left">M</td>
<td align="left">K</td>
<td align="right">77</td>
<td align="right">2</td>
<td align="left">45-64</td>
<td align="left">M</td>
<td align="left">BLACK</td>
<td align="right">1004580</td>
<td align="right">183838</td>
<td align="right">40.67125</td>
<td align="right">-73.92671</td>
<td align="left">POINT (-73.926713851 40.67125445700003)</td>
</tr>
</tbody>
</table>
<pre><code>##    CMPLNT_NUM CMPLNT_FR_DT CMPLNT_FR_TM CMPLNT_TO_DT CMPLNT_TO_TM ADDR_PCT_CD     RPT_DT KY_CD
## 1   394506329   12/31/2019     17:30:00                                    32 12/31/2019   118
## 2   968873685   12/29/2019     16:31:00   12/29/2019     16:54:00          47 12/29/2019   113
## 3   509837549   12/15/2019     18:45:00                                   109 12/29/2019   578
## 4   352454313   12/28/2019     01:00:00                                    47 12/28/2019   126
## 5   248803469   09/05/2008     21:41:00                                    NA 09/05/2008   101
## 6   293718737   12/27/2019     22:00:00                                     9 12/27/2019   107
## 7   552685226   12/27/2019     20:10:00   12/27/2019     20:15:00          79 12/27/2019   117
## 8   134037758   12/26/2019     20:00:00   12/27/2019     07:15:00         101 12/27/2019   341
## 9   855385879   12/26/2019     19:57:00                                    44 12/26/2019   361
## 10  241602326   12/25/2019     23:00:00   12/26/2019     14:25:00          20 12/26/2019   341
## 11  585574881   12/24/2019     16:00:00                                    14 12/24/2019   109
## 12  916172359   12/21/2019     20:00:00   12/21/2019     20:30:00          25 12/24/2019   341
## 13  946914583   12/22/2019     04:15:00   12/22/2019     04:24:00         108 12/22/2019   113
## 14  355952564   12/21/2019     02:35:00                                    46 12/21/2019   101
## 15  249276017   12/20/2019     14:00:00                                    42 12/21/2019   106
## 16  636997863   12/20/2019     22:18:00                                    52 12/20/2019   344
## 17  183266811   12/20/2019     01:35:00   12/20/2019     01:44:00          66 12/20/2019   107
## 18  699043216   12/20/2019     00:07:00   12/20/2019     00:12:00          50 12/20/2019   341
## 19  431547413   12/10/2019     20:06:00   12/10/2019     20:24:00           7 12/20/2019   114
## 20  800366831   12/19/2019     17:50:00                                    43 12/19/2019   341
## 21  354566222   12/19/2019     02:50:00                                    42 12/19/2019   104
## 22  464928227   12/18/2019     20:30:00   12/19/2019     11:22:00         104 12/19/2019   341
## 23  721499574   10/18/2013     20:34:00                                    75 10/18/2013   101
## 24  441714270   12/06/2019     11:30:00   12/07/2019     08:00:00          10 12/19/2019   233
## 25  747375469   12/18/2019     18:15:00                                   100 12/18/2019   101
## 26  464533599   12/18/2019     17:40:00                                    18 12/18/2019   341
## 27  509186416   12/18/2019     17:00:00   12/18/2019     17:15:00          48 12/18/2019   113
## 28  744568485   12/18/2019     14:00:00                                    17 12/18/2019   341
##                          OFNS_DESC PD_CD                        PD_DESC CRM_ATPT_CPTD_CD  LAW_CAT_CD   BORO_NM
## 1                DANGEROUS WEAPONS   793           WEAPONS POSSESSION 3        COMPLETED      FELONY MANHATTAN
## 2                          FORGERY   729 FORGERY,ETC.,UNCLASSIFIED-FELO        COMPLETED      FELONY     BRONX
## 3                    HARRASSMENT 2   638          HARASSMENT,SUBD 3,4,5        COMPLETED   VIOLATION    QUEENS
## 4          MISCELLANEOUS PENAL LAW   117        RECKLESS ENDANGERMENT 1        COMPLETED      FELONY     BRONX
## 5  MURDER &amp; NON-NEGL. MANSLAUGHTER    NA                                       COMPLETED      FELONY          
## 6                         BURGLARY   223       BURGLARY,RESIDENCE,NIGHT        ATTEMPTED      FELONY MANHATTAN
## 7                  DANGEROUS DRUGS   521   CONTROLLED SUBSTANCE, SALE 5        COMPLETED      FELONY  BROOKLYN
## 8                    PETIT LARCENY   321        LARCENY,PETIT FROM AUTO        COMPLETED MISDEMEANOR    QUEENS
## 9    OFF. AGNST PUB ORD SENSBLTY &amp;   639        AGGRAVATED HARASSMENT 2        COMPLETED MISDEMEANOR     BRONX
## 10                   PETIT LARCENY   321        LARCENY,PETIT FROM AUTO        COMPLETED MISDEMEANOR MANHATTAN
## 11                   GRAND LARCENY   433 LARCENY,GRAND FROM STORE-SHOPL        COMPLETED      FELONY MANHATTAN
## 12                   PETIT LARCENY   301 LARCENY,PETIT BY ACQUIRING LOS        COMPLETED MISDEMEANOR MANHATTAN
## 13                         FORGERY   729 FORGERY,ETC.,UNCLASSIFIED-FELO        COMPLETED      FELONY    QUEENS
## 14 MURDER &amp; NON-NEGL. MANSLAUGHTER    NA                                       COMPLETED      FELONY          
## 15                  FELONY ASSAULT   109       ASSAULT 2,1,UNCLASSIFIED        COMPLETED      FELONY     BRONX
## 16    ASSAULT 3 &amp; RELATED OFFENSES   114            OBSTR BREATH/CIRCUL        COMPLETED MISDEMEANOR     BRONX
## 17                        BURGLARY   223       BURGLARY,RESIDENCE,NIGHT        COMPLETED      FELONY  BROOKLYN
## 18                   PETIT LARCENY   339 LARCENY,PETIT FROM OPEN AREAS,        COMPLETED MISDEMEANOR     BRONX
## 19                           ARSON   263                    ARSON 2,3,4        COMPLETED      FELONY MANHATTAN
## 20                   PETIT LARCENY   333 LARCENY,PETIT FROM STORE-SHOPL        COMPLETED MISDEMEANOR     BRONX
## 21                            RAPE   153                         RAPE 3        COMPLETED      FELONY     BRONX
## 22                   PETIT LARCENY   321        LARCENY,PETIT FROM AUTO        COMPLETED MISDEMEANOR    QUEENS
## 23 MURDER &amp; NON-NEGL. MANSLAUGHTER    NA                                       COMPLETED      FELONY          
## 24                      SEX CRIMES   175               SEXUAL ABUSE 3,2        COMPLETED MISDEMEANOR MANHATTAN
## 25 MURDER &amp; NON-NEGL. MANSLAUGHTER    NA                                       COMPLETED      FELONY          
## 26                   PETIT LARCENY   333 LARCENY,PETIT FROM STORE-SHOPL        COMPLETED MISDEMEANOR MANHATTAN
## 27                         FORGERY   729 FORGERY,ETC.,UNCLASSIFIED-FELO        COMPLETED      FELONY     BRONX
## 28                   PETIT LARCENY   349 LARCENY,PETIT OF LICENSE PLATE        COMPLETED MISDEMEANOR MANHATTAN
##    LOC_OF_OCCUR_DESC              PREM_TYP_DESC          JURIS_DESC JURISDICTION_CODE PARKS_NM HADEVELOPT HOUSING_PSA
## 1                                        STREET    N.Y. POLICE DEPT                 0                                
## 2                                        STREET    N.Y. POLICE DEPT                 0                                
## 3           FRONT OF                     STREET    N.Y. POLICE DEPT                 0                                
## 4            REAR OF                     STREET    N.Y. POLICE DEPT                 0                                
## 5            OUTSIDE                               N.Y. POLICE DEPT                NA     &lt;NA&gt;                   &lt;NA&gt;
## 6           FRONT OF     RESIDENCE - APT. HOUSE    N.Y. POLICE DEPT                 0                                
## 7                                        STREET    N.Y. POLICE DEPT                 0                                
## 8           FRONT OF                     STREET    N.Y. POLICE DEPT                 0                                
## 9                                        STREET    N.Y. POLICE DEPT                 0                                
## 10                                       STREET    N.Y. POLICE DEPT                 0                                
## 11            INSIDE           DEPARTMENT STORE    N.Y. POLICE DEPT                 0                                
## 12                                        OTHER    N.Y. POLICE DEPT                 0                                
## 13                                       STREET    N.Y. POLICE DEPT                 0                                
## 14            INSIDE                               N.Y. POLICE DEPT                NA                                
## 15                                       STREET    N.Y. POLICE DEPT                 0                                
## 16            INSIDE     RESIDENCE - APT. HOUSE    N.Y. POLICE DEPT                 0                                
## 17           REAR OF            RESIDENCE-HOUSE    N.Y. POLICE DEPT                 0                                
## 18                                        OTHER         METRO NORTH                15                                
## 19            INSIDE RESIDENCE - PUBLIC HOUSING N.Y. HOUSING POLICE                 2          LA GUARDIA       575.0
## 20            INSIDE           DEPARTMENT STORE    N.Y. POLICE DEPT                 0                                
## 21            INSIDE         ABANDONED BUILDING    N.Y. POLICE DEPT                 0                                
## 22                                       STREET    N.Y. POLICE DEPT                 0                                
## 23           OUTSIDE                               N.Y. POLICE DEPT                NA     &lt;NA&gt;                   &lt;NA&gt;
## 24            INSIDE                   HOSPITAL    N.Y. POLICE DEPT                 0                                
## 25           OUTSIDE                               N.Y. POLICE DEPT                NA                                
## 26          FRONT OF                               N.Y. POLICE DEPT                 0                                
## 27            INSIDE                      OTHER    N.Y. POLICE DEPT                 0                                
## 28                                       STREET    N.Y. POLICE DEPT                 0                                
##    X_COORD_CD Y_COORD_CD SUSP_AGE_GROUP      SUSP_RACE SUSP_SEX TRANSIT_DISTRICT Latitude Longitude
## 1      999937     238365                                                      NA 40.82093 -73.94332
## 2     1022508     261990                                                      NA 40.88570 -73.86164
## 3     1034178     209758          25-44        UNKNOWN        M               NA 40.74228 -73.81982
## 4     1026412     258211          18-24          BLACK        M               NA 40.87531 -73.84755
## 5     1001215     193881                                                      NA 40.69883 -73.93882
## 6      989665     201866                                                      NA 40.72076 -73.98047
## 7     1001545     192836                                                      NA 40.69596 -73.93763
## 8     1054394     162186                                                      NA 40.61157 -73.74737
## 9     1007027     245405          18-24          BLACK        F               NA 40.84023 -73.91768
## 10     987147     220853                                                      NA 40.77287 -73.98954
## 11     987220     212676                                                      NA 40.75043 -73.98928
## 12    1001150     231355        UNKNOWN        UNKNOWN        U               NA 40.80168 -73.93896
## 13     996424     210017                                                      NA 40.74312 -73.95607
## 14    1009507     252093          18-24 BLACK HISPANIC        M               NA 40.85858 -73.90870
## 15    1008690     238862        UNKNOWN        UNKNOWN        U               NA 40.82227 -73.91170
## 16    1014563     253789          25-44          BLACK        M               NA 40.86322 -73.89041
## 17     989260     169727                                                      NA 40.63254 -73.98195
## 18    1008839     257949                                                      NA 40.87466 -73.91109
## 19     987063     198657                                                      NA 40.71195 -73.98985
## 20    1023380     239329          45-64 WHITE HISPANIC        M               NA 40.82350 -73.85862
## 21    1008798     238971          18-24 BLACK HISPANIC        M               NA 40.82257 -73.91131
## 22    1011048     193750                                                      NA 40.69844 -73.90336
## 23    1013091     184311          45-64 WHITE HISPANIC        M               NA 40.67253 -73.89603
## 24     984623     209859        UNKNOWN          BLACK        M               NA 40.74270 -73.99866
## 25    1036299     153335          25-44          BLACK        U               NA 40.58740 -73.81261
## 26     988668     218026          25-44          BLACK        M               NA 40.76511 -73.98405
## 27    1016804     251715                                                      NA 40.85752 -73.88232
## 28     993626     213937                                                      NA 40.75389 -73.96616
##                                     Lat_Lon              PATROL_BORO STATION_NAME VIC_AGE_GROUP       VIC_RACE VIC_SEX
## 1   (40.82092679700002, -73.94332421899996)    PATROL BORO MAN NORTH                    UNKNOWN        UNKNOWN       E
## 2  (40.885701406000074, -73.86164032499995)        PATROL BORO BRONX                    UNKNOWN        UNKNOWN       E
## 3         (40.74228115600005, -73.81982408) PATROL BORO QUEENS NORTH                      25-44 WHITE HISPANIC       F
## 4   (40.87531145100007, -73.84754521099995)        PATROL BORO BRONX                    UNKNOWN        UNKNOWN       E
## 5             (40.698827283, -73.938819047)                                               25-44          BLACK       M
## 6   (40.72075882100006, -73.98046642299995)    PATROL BORO MAN SOUTH                    UNKNOWN        UNKNOWN       M
## 7  (40.695958362000056, -73.93763162199998)  PATROL BORO BKLYN NORTH                    UNKNOWN        UNKNOWN       E
## 8   (40.61157006600007, -73.74736517199995) PATROL BORO QUEENS SOUTH                      25-44 WHITE HISPANIC       F
## 9   (40.84023413800003, -73.91768411399994)        PATROL BORO BRONX                      18-24          BLACK       F
## 10  (40.77287456000005, -73.98954212299998)    PATROL BORO MAN NORTH                      45-64          BLACK       M
## 11  (40.75043076800005, -73.98928217599996)    PATROL BORO MAN SOUTH                    UNKNOWN        UNKNOWN       D
## 12  (40.80168405900002, -73.93895929199994)    PATROL BORO MAN NORTH                      25-44        UNKNOWN       F
## 13 (40.743124599000055, -73.95606807299998) PATROL BORO QUEENS NORTH                    UNKNOWN        UNKNOWN       E
## 14  (40.85858397000004, -73.90869606999998)                                               18-24 WHITE HISPANIC       M
## 15  (40.82227104100008, -73.91169777999993)        PATROL BORO BRONX                        &lt;18 BLACK HISPANIC       M
## 16  (40.86322306500005, -73.89041071099996)        PATROL BORO BRONX                      18-24          BLACK       F
## 17  (40.63254475200006, -73.98195137599998)  PATROL BORO BKLYN SOUTH                        65+          WHITE       F
## 18  (40.87465879000007, -73.91108943699999)        PATROL BORO BRONX                      25-44          WHITE       F
## 19  (40.71195209300004, -73.98985467599994)    PATROL BORO MAN SOUTH                    UNKNOWN        UNKNOWN       E
## 20 (40.823499964000064, -73.85861898699994)        PATROL BORO BRONX                    UNKNOWN        UNKNOWN       D
## 21  (40.82256991600008, -73.91130716899994)        PATROL BORO BRONX                        &lt;18 BLACK HISPANIC       F
## 22  (40.69844340600008, -73.90335796299998) PATROL BORO QUEENS NORTH                      25-44          WHITE       M
## 23              (40.6725291, -73.896030558)                                               18-24          BLACK       M
## 24  (40.74269929900004, -73.99865537999993)    PATROL BORO MAN SOUTH                      25-44        UNKNOWN       F
## 25  (40.58740067900004, -73.81260554099998)                                               45-64          BLACK       M
## 26  (40.76511454900003, -73.98405256399997)    PATROL BORO MAN SOUTH                    UNKNOWN        UNKNOWN       D
## 27  (40.85752258300005, -73.88231889499998)        PATROL BORO BRONX                    UNKNOWN        UNKNOWN       E
## 28  (40.75388742300004, -73.96615999399995)    PATROL BORO MAN SOUTH                    UNKNOWN        UNKNOWN       D
##  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 7375965 rows ]</code></pre>
<p>The data is relatively complex.</p>
<p>First, for our Arrest Data, we acquired over 5.1 million rows and 19 variables.</p>
<table>
<colgroup>
<col width="8%" />
<col width="11%" />
<col width="8%" />
<col width="5%" />
<col width="8%" />
<col width="59%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column1_</th>
<th align="left">Variable</th>
<th align="left">Column2_</th>
<th align="left">Classe</th>
<th align="left">Column3_</th>
<th align="left">First_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">||</td>
<td align="left">ARREST_KEY</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">32311380, 192799737, 193260691</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">ARREST_DATE</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">06/18/2007, 01/26/2019, 02/06/2019</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">PD_CD</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">511, 177, NA</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">PD_DESC</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">CONTROLLED SUBSTANCE, POSSESSION 7, SEXUAL ABUSE,</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">KY_CD</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">235, 116, NA</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">OFNS_DESC</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">DANGEROUS DRUGS, SEX CRIMES,</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">LAW_CODE</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">PL 2200300, PL 1306503, PL 2203400</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">LAW_CAT_CD</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">M, F, F</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">ARREST_BORO</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">Q, M, M</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">ARREST_PRECINCT</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">27, 25, 14</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">JURISDICTION_CODE</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">1, 0, 0</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">AGE_GROUP</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">18-24, 45-64, 25-44</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">PERP_SEX</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">M, M, M</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">PERP_RACE</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">BLACK, BLACK, UNKNOWN</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">X_COORD_CD</td>
<td align="left">||</td>
<td align="left">double</td>
<td align="left">||</td>
<td align="left">NA, 1000555, 986685</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">Y_COORD_CD</td>
<td align="left">||</td>
<td align="left">double</td>
<td align="left">||</td>
<td align="left">NA, 230994, 215375</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">Latitude</td>
<td align="left">||</td>
<td align="left">double</td>
<td align="left">||</td>
<td align="left">NA, 40.800694331, 40.7578390030001</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">Longitude</td>
<td align="left">||</td>
<td align="left">double</td>
<td align="left">||</td>
<td align="left">NA, -73.941109286, -73.991212111</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">Lon_Lat</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">, POINT (-73.94110928599997 40.800694331000045), POINT (-73.99121211099998 40.75783900300007)</td>
</tr>
</tbody>
</table>
<p>Then, for our Complaints Data, we acquired over 7.3 million rows and 35 variables.</p>
<table>
<colgroup>
<col width="7%" />
<col width="9%" />
<col width="7%" />
<col width="5%" />
<col width="7%" />
<col width="63%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column1_</th>
<th align="left">Variable</th>
<th align="left">Column2_</th>
<th align="left">Classe</th>
<th align="left">Column3_</th>
<th align="left">First_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">||</td>
<td align="left">CMPLNT_NUM</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">394506329, 968873685, 509837549</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">CMPLNT_FR_DT</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">12/31/2019, 12/29/2019, 12/15/2019</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">CMPLNT_FR_TM</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">17:30:00, 16:31:00, 18:45:00</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">CMPLNT_TO_DT</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">, 12/29/2019,</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">CMPLNT_TO_TM</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">, 16:54:00,</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">ADDR_PCT_CD</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">32, 47, 109</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">RPT_DT</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">12/31/2019, 12/29/2019, 12/29/2019</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">KY_CD</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">118, 113, 578</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">OFNS_DESC</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">DANGEROUS WEAPONS, FORGERY, HARRASSMENT 2</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">PD_CD</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">793, 729, 638</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">PD_DESC</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">WEAPONS POSSESSION 3, FORGERY,ETC.,UNCLASSIFIED-FELO, HARASSMENT,SUBD 3,4,5</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">CRM_ATPT_CPTD_CD</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">COMPLETED, COMPLETED, COMPLETED</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">LAW_CAT_CD</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">FELONY, FELONY, VIOLATION</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">BORO_NM</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">MANHATTAN, BRONX, QUEENS</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">LOC_OF_OCCUR_DESC</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">, , FRONT OF</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">PREM_TYP_DESC</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">STREET, STREET, STREET</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">JURIS_DESC</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">N.Y. POLICE DEPT, N.Y. POLICE DEPT, N.Y. POLICE DEPT</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">JURISDICTION_CODE</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">0, 0, 0</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">PARKS_NM</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">, ,</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">HADEVELOPT</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">, ,</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">HOUSING_PSA</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">, ,</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">X_COORD_CD</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">999937, 1022508, 1034178</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">Y_COORD_CD</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">238365, 261990, 209758</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">SUSP_AGE_GROUP</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">, , 25-44</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">SUSP_RACE</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">, , UNKNOWN</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">SUSP_SEX</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">, , M</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">TRANSIT_DISTRICT</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">NA, NA, NA</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">Latitude</td>
<td align="left">||</td>
<td align="left">double</td>
<td align="left">||</td>
<td align="left">40.820926797, 40.8857014060001, 40.742281156</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">Longitude</td>
<td align="left">||</td>
<td align="left">double</td>
<td align="left">||</td>
<td align="left">-73.943324219, -73.861640325, -73.81982408</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">Lat_Lon</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">(40.82092679700002, -73.94332421899996), (40.885701406000074, -73.86164032499995), (40.74228115600005, -73.81982408)</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">PATROL_BORO</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">PATROL BORO MAN NORTH, PATROL BORO BRONX, PATROL BORO QUEENS NORTH</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">STATION_NAME</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">, ,</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">VIC_AGE_GROUP</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">UNKNOWN, UNKNOWN, 25-44</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">VIC_RACE</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">UNKNOWN, UNKNOWN, WHITE HISPANIC</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">VIC_SEX</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">E, E, F</td>
</tr>
</tbody>
</table>
<p>We processed the Arrest Data, Complaints Data and other data sets separately.</p>
</div>
<div id="pre-processing-for-arrest-data" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Pre-processing for Arrest Data</h2>
<div id="arrest-data-time-analysis-pre-processing" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Arrest Data: Time Analysis Pre-processing</h3>
<p>To formulate proper data structure and columns, we developed a function allowing we derive year and/or month information from the original time stamp column of Arrest Data. Further more, this function also allow us to decide whether an grouping by year and/or month is needed. One can find further details in our repository.</p>
<table>
<caption><span id="tab:unnamed-chunk-6">Table 3.1: </span>Head 6 Rows in Arrest Dataset for Temporal Analysis</caption>
<thead>
<tr class="header">
<th align="left">Year</th>
<th align="left">LAW_CAT_CD</th>
<th align="right">count</th>
<th align="right">prop</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2006</td>
<td align="left">F</td>
<td align="right">103308</td>
<td align="right">0.2786039</td>
</tr>
<tr class="even">
<td align="left">2006</td>
<td align="left">I</td>
<td align="right">2040</td>
<td align="right">0.0055015</td>
</tr>
<tr class="odd">
<td align="left">2006</td>
<td align="left">M</td>
<td align="right">245508</td>
<td align="right">0.6620928</td>
</tr>
<tr class="even">
<td align="left">2006</td>
<td align="left">V</td>
<td align="right">19950</td>
<td align="right">0.0538017</td>
</tr>
<tr class="odd">
<td align="left">2007</td>
<td align="left">F</td>
<td align="right">108617</td>
<td align="right">0.2700982</td>
</tr>
<tr class="even">
<td align="left">2007</td>
<td align="left">I</td>
<td align="right">4234</td>
<td align="right">0.0105287</td>
</tr>
</tbody>
</table>
<p>We selected information from year, LAW_CAT_CD (crime category), counting of each category, and probability represented by frequency out via processing on ‘LAW_CAT_CD’, ‘ARREST_DATE’, and ‘Year’. This allowed us to perform a analysis on crime category based on their counting and probability in a time series manner.</p>
<table>
<colgroup>
<col width="11%" />
<col width="9%" />
<col width="11%" />
<col width="8%" />
<col width="11%" />
<col width="49%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column1_</th>
<th align="left">Variable</th>
<th align="left">Column2_</th>
<th align="left">Classe</th>
<th align="left">Column3_</th>
<th align="left">First_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">||</td>
<td align="left">Year</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">2006, 2006, 2006</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">LAW_CAT_CD</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">F, I, M</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">count</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">103308, 2040, 245508</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">prop</td>
<td align="left">||</td>
<td align="left">double</td>
<td align="left">||</td>
<td align="left">0.278603906085662, 0.00550152910147085, 0.662092846394071</td>
</tr>
</tbody>
</table>
</div>
<div id="arrest-data-geometry-anaylsis-pre-processing" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Arrest Data: Geometry Anaylsis Pre-processing</h3>
<p>We selected out ‘LAW_CAT_CD’, ‘ARREST_DATE’, ‘Year’, ‘ARREST_BORO’, ‘Latitude’, and ‘Longitude’ in order to get a better understanding on the geometry distribution of the crimes.</p>
<table>
<caption><span id="tab:unnamed-chunk-8">Table 3.2: </span>Head 6 Rows in Arrest Dataset for Spatial Analysis</caption>
<thead>
<tr class="header">
<th align="left">LAW_CAT_CD</th>
<th align="left">ARREST_DATE</th>
<th align="left">Year</th>
<th align="left">ARREST_BORO</th>
<th align="right">Latitude</th>
<th align="right">Longitude</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">F</td>
<td align="left">01/26/2019</td>
<td align="left">2019</td>
<td align="left">M</td>
<td align="right">40.80069</td>
<td align="right">-73.94111</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="left">02/06/2019</td>
<td align="left">2019</td>
<td align="left">M</td>
<td align="right">40.75784</td>
<td align="right">-73.99121</td>
</tr>
<tr class="odd">
<td align="left">F</td>
<td align="left">01/06/2016</td>
<td align="left">2016</td>
<td align="left">K</td>
<td align="right">40.64865</td>
<td align="right">-73.95034</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="left">11/15/2018</td>
<td align="left">2018</td>
<td align="left">K</td>
<td align="right">40.67458</td>
<td align="right">-73.93022</td>
</tr>
<tr class="odd">
<td align="left">M</td>
<td align="left">09/13/2006</td>
<td align="left">2006</td>
<td align="left">K</td>
<td align="right">40.67125</td>
<td align="right">-73.92671</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="left">10/24/2018</td>
<td align="left">2018</td>
<td align="left">M</td>
<td align="right">40.71620</td>
<td align="right">-73.99749</td>
</tr>
</tbody>
</table>
<p>Here is a brief structure of the cleaned data set.</p>
<table>
<thead>
<tr class="header">
<th align="left">Column1_</th>
<th align="left">Variable</th>
<th align="left">Column2_</th>
<th align="left">Classe</th>
<th align="left">Column3_</th>
<th align="left">First_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">||</td>
<td align="left">LAW_CAT_CD</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">F, F, F</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">ARREST_DATE</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">01/26/2019, 02/06/2019, 01/06/2016</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">Year</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">2019, 2019, 2016</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">ARREST_BORO</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">M, M, K</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">Latitude</td>
<td align="left">||</td>
<td align="left">double</td>
<td align="left">||</td>
<td align="left">40.800694331, 40.7578390030001, 40.648650085</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">Longitude</td>
<td align="left">||</td>
<td align="left">double</td>
<td align="left">||</td>
<td align="left">-73.941109286, -73.991212111, -73.950335563</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="pre-processing-for-complaint-data" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Pre-processing for Complaint Data</h2>
<p>Our modification on Complaint Data set are similar to what we processed on Arrest Data set.</p>
<table>
<thead>
<tr class="header">
<th align="left">Column1_</th>
<th align="left">Variable</th>
<th align="left">Column2_</th>
<th align="left">Classe</th>
<th align="left">Column3_</th>
<th align="left">First_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">||</td>
<td align="left">Year</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">2006, 2006, 2006</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">LAW_CAT_CD</td>
<td align="left">||</td>
<td align="left">character</td>
<td align="left">||</td>
<td align="left">FELONY, MISDEMEANOR, VIOLATION</td>
</tr>
<tr class="odd">
<td align="left">||</td>
<td align="left">count</td>
<td align="left">||</td>
<td align="left">integer</td>
<td align="left">||</td>
<td align="left">171638, 288539, 69417</td>
</tr>
<tr class="even">
<td align="left">||</td>
<td align="left">prop</td>
<td align="left">||</td>
<td align="left">double</td>
<td align="left">||</td>
<td align="left">0.324093550908809, 0.544830568322149, 0.131075880769042</td>
</tr>
</tbody>
</table>
</div>
<div id="pre-processing-for-other-data-sets" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Pre-processing for other Data Sets</h2>
<p>No pre-processing is needed for other data sets.</p>
</div>
<div id="next-stage" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Next Stage</h2>
<p>We have successfully constructed cleaned data sets now. Next, we can start analyzing.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Kitatine/ny-crime-edav-2021/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/Kitatine/ny-crime-edav-2021/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
